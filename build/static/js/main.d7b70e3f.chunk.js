(this["webpackJsonpblog-app"]=this["webpackJsonpblog-app"]||[]).push([[0],{157:function(e,t,s){},160:function(e,t,s){},170:function(e,t,s){},236:function(e,t,s){},237:function(e,t,s){},238:function(e,t,s){},239:function(e,t,s){},245:function(e,t,s){"use strict";s.r(t);var n=s(0),a=s.n(n),r=s(41),c=s.n(r),i=s(28),o=s(33),u=s(34),l=s(36),d=s(35),m=s(37),p=s(24),j=s(40);j.a.initializeApp({apiKey:"AIzaSyD6NiATiGy5Qme0ZBgJK1GttkbZJSBrk68",authDomain:"blog23-167417.firebaseapp.com",databaseURL:"https://blog23-167417.firebaseio.com",projectId:"blog23-167417",storageBucket:"blog23-167417.appspot.com",messagingSenderId:"897040135213",appId:"1:897040135213:web:7e18164bb6a722a1d434a4",measurementId:"G-KQ7JK87CF9"});var b=j.a.database(),h="create_user_success",f="login_user_success",O="logout_user_success",v="get_profile_success",x="update_profile_success";function g(e){return function(t){t({type:"logout_user_request"}),j.a.auth().signOut().then((function(s){e(),t({type:O,payload:s})})).catch((function(e){t({type:"logout_user_fail",payload:e})}))}}s(157);var y=s(5),N=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(u.a)(s,[{key:"onLogout",value:function(){var e=this.props,t=e.logout,s=e.history;t((function(){s.push("/")}))}},{key:"renderNavbar",value:function(){var e=this,t=this.props.auth;return t.isAuthenticated?Object(y.jsxs)(n.Fragment,{children:[Object(y.jsx)("li",{className:"nav-item",children:Object(y.jsxs)("span",{className:"nav-link",children:[Object(y.jsx)("i",{className:"fa fa-user-circle"}),t.user]})}),Object(y.jsx)("li",{className:"nav-item",children:Object(y.jsxs)("button",{className:"nav-link logout-btn",onClick:function(){return e.onLogout()},children:[Object(y.jsx)("i",{className:"fa fa-sign-out"}),"logout"]})})]}):Object(y.jsxs)(n.Fragment,{children:[Object(y.jsx)("li",{className:"nav-item",children:Object(y.jsxs)(m.c,{exact:!0,activeClassName:"active",to:"/users/login",className:"nav-link",children:[Object(y.jsx)("i",{className:"fa fa-sign-in"}),"login"]})}),Object(y.jsx)("li",{className:"nav-item",children:Object(y.jsxs)(m.c,{exact:!0,activeClassName:"active",to:"/users/register",className:"nav-link",children:[Object(y.jsx)("i",{className:"fa fa-user-plus"}),"register"]})})]})}},{key:"render",value:function(){return Object(y.jsxs)("nav",{className:"navbar navbar-dark bg-dark navbar-expand-lg ",children:[Object(y.jsx)(m.c,{to:"/posts",className:"navbar-brand",children:"blog"}),Object(y.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(y.jsx)("span",{className:"navbar-toggler-icon"})}),Object(y.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNav",children:Object(y.jsxs)("ul",{className:"navbar-nav",children:[Object(y.jsx)("li",{className:"nav-item",children:Object(y.jsxs)(m.c,{exact:!0,activeClassName:"active",to:"/posts",className:"nav-link",children:[Object(y.jsx)("i",{className:"fa fa-home"}),"all posts"]})}),Object(y.jsx)("li",{className:"nav-item",children:Object(y.jsxs)(m.c,{exact:!0,activeClassName:"active",to:"/posts/create",className:"nav-link",children:[Object(y.jsx)("i",{className:"fa fa-plus-circle"}),"new post"]})}),this.renderNavbar()]})})]})}}]),s}(n.Component);var _=Object(p.g)(Object(i.b)((function(e){return{auth:e.auth}}),{logout:g})(N)),k=s(67),C="fetch_posts_success",w="fetch_post_request",P="fetch_post_success",S="delete_post_request",A="delete_post_success",I="delete_post_fail",q="load_more_success",F="add_comment_success";function M(e){return function(t){t({type:w}),b.ref("posts").child(e).on("value",(function(s){var n,a;null!=s.val()&&t((n=s.val(),a=e,function(e){Promise.all([b.ref("users/"+n.uid).once("value"),b.ref("comments/"+a).once("value")]).then((function(t){var s=t[0].val(),r=t[1].val();e({type:P,post:n,id:a,user:s?s.displayName:n.user,comments:r})}))}))}),(function(e){t({type:"fetch_post_fail",payload:e.message})}))}}function T(e,t){return function(s){s({type:S}),b.ref("posts").child(e).remove((function(){})).then((function(){"function"===typeof t&&t(),s({type:A})})).catch((function(e){s({type:I,payload:e.message})}))}}var B=s(68),D=s.n(B),E=(s(160),function(e){var t=e.post;return Object(y.jsx)("div",{className:"row",children:Object(y.jsxs)("div",{className:"br-posts ",children:[Object(y.jsx)("div",{className:"d-flex w-100 justify-content-between",children:Object(y.jsx)(m.b,{className:"br-posts__post-title",to:"/posts/".concat(t.id),children:t.title})}),Object(y.jsx)("div",{className:"br-posts__post-content",children:Object(y.jsx)("p",{children:t.content})}),Object(y.jsxs)("div",{className:"br-posts__post-info",children:[Object(y.jsx)("i",{className:"fa fa-calendar"}),D()(new Date(null===t||void 0===t?void 0:t.createdAt)).format("MMM Do YY")]})]})})}),Y=function(e){return Object(y.jsx)("div",{className:"d-flex justify-content-center",children:Object(y.jsx)("div",{className:"spinner-border",role:"status",children:Object(y.jsx)("span",{className:"sr-only",children:"Loading..."})})})},R=s(249),V=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(u.a)(s,[{key:"componentDidMount",value:function(){(0,this.props.fetchPosts)()}},{key:"render",value:function(){var e=this.props,t=e.posts,s=e.isFetched;return s?!t.length&&s?Object(y.jsx)("div",{className:"post-index d-flex justify-content-center",children:"There are no questions yet."}):Object(y.jsx)("div",{className:"post-index",children:Object(y.jsx)("div",{className:"posts",children:Object(y.jsx)(R.b,{bordered:!0,dataSource:t,renderItem:function(e,t){return Object(y.jsx)(E,{post:e},t)}})})}):Object(y.jsx)(Y,{})}}]),s}(n.Component);var J=Object(i.b)((function(e){return{posts:e.posts.list,isFetched:e.posts.isFetched}}),{fetchPosts:function(){return function(e){e({type:"fetch_posts_request"}),b.ref("posts").once("value",(function(t){e({type:C,payload:t.val()})}),(function(t){e({tpye:"fetch_posts_fail",payload:t.message})}))}},deletePost:T})(V),K=s(26),L=s(113);s(169),s(170);L.a.configure({position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!1,draggable:!0});var G=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"error",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Object(L.a)(e,{className:t,toastId:s})},U=s(248),W=s(250),z=function(e){var t=e.onSubmit,s=e.values,a=Object(n.useRef)("");return Object(n.useEffect)((function(){s&&a.current.setFieldsValue({title:s.title,content:s.content})}),[s]),Object(y.jsxs)(U.a,{onFinish:t,ref:a,children:[Object(y.jsx)(U.a.Item,{name:"title",label:"post title ",rules:[{required:!0,message:Object(y.jsx)("p",{className:"br-error",children:" this field is required "})}],children:Object(y.jsx)(W.a,{placeholder:"your title ",autoComplete:""+Math.random()})}),Object(y.jsx)(U.a.Item,{name:"content",label:"post content ",rules:[{required:!0,message:Object(y.jsx)("p",{className:"br-error",children:" this field is required "})}],children:Object(y.jsx)(W.a.TextArea,{placeholder:"your description ",autoComplete:""+Math.random()})}),Object(y.jsx)("div",{className:"bottom-button",children:Object(y.jsx)("button",{type:"submit",className:"btn btn-primary",children:"save"})})]})},Q=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(u.a)(s,[{key:"onSubmit",value:function(e){var t=this,s=Object(K.a)(Object(K.a)({},e),{},{uid:this.props.auth.uid,user:this.props.auth.user});null!==this.props.auth.uid&&this.props.createPost(s,(function(){G("The post has been created ","success"),t.props.history.push("/")}))}},{key:"render",value:function(){var e=this;return Object(y.jsx)("div",{className:"post-form",children:Object(y.jsx)(z,{onSubmit:function(t){return e.onSubmit(t)},formType:"create"})})}}]),s}(n.Component),Z=Object(i.b)((function(e){return{auth:e.auth}}),(function(e){return{createPost:function(t,s){e(function(e,t){var s=e,n=b.ref("posts").push().key;return s.createdAt=j.a.database.ServerValue.TIMESTAMP,s.id=n,function(e){return b.ref("posts/"+n).update(s).then((function(){return t()}))}}(t,s))}}}))(Q),H=(s(236),function(e){var t=e.post;return Object(y.jsxs)("div",{className:"br-post-detail text-center",children:[Object(y.jsx)("h2",{className:"br-post-title",children:t.title}),Object(y.jsxs)("div",{className:"br-post-creation-time",children:[Object(y.jsx)("i",{className:"fa fa-calendar"}),D()(new Date(null===t||void 0===t?void 0:t.createdAt)).format("MMM Do YY")]}),Object(y.jsxs)("div",{className:"br-post-creator",children:[Object(y.jsx)("i",{className:"fa fa-user-o"}),t.user]}),Object(y.jsx)("p",{className:"br-post-content",children:t.content})]})}),$=(s(237),function(e){var t=e.comment,s=e.deleteComment,n=e.postid,a=e.commentid,r=e.auth,c=e.editComment;return Object(y.jsxs)("div",{className:"br-comment",children:[Object(y.jsxs)("div",{className:"br-comment__comment-user",children:[t.user,Object(y.jsx)("span",{children:D()(null===t||void 0===t?void 0:t.createdAt).format("MMM Do YY")})]}),Object(y.jsx)("p",{className:"br-comment__comment-body",children:t.message}),t.uid===r.uid&&Object(y.jsxs)("div",{className:"top-buttons text-right",children:[Object(y.jsxs)("button",{className:"btn btn-danger",onClick:function(){return s(n,t,a)},children:[Object(y.jsx)("i",{className:"fa fa-remove"}),"delete"]}),Object(y.jsx)("button",{className:"btn btn-primary",onClick:function(){return c()},children:"edit"})]})]})}),X=s(140),ee=(s(238),function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){var e;Object(o.a)(this,s);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={edit:!1,comment:null,commentId:null},e.formRef=a.a.createRef(),e}return Object(u.a)(s,[{key:"componentDidMount",value:function(){var e=this.props,t=e.match.params.id;(0,e.fetchPost)(t)}},{key:"setStateEdit",value:function(e,t,s,n){this.setState({edit:e,commentId:n,comment:s}),this.formRef.current.setFieldsValue({comment:s.message})}},{key:"onSubmitComment",value:function(e){var t=this.props,s=t.auth,n=t.match.params.id,a=t.addComment,r=t.editComment,c=this.state,i=c.edit,o=c.commentId,u=c.comment,l={user:s.user,uid:s.uid,message:e.comment};i?(r(n,Object(K.a)(Object(K.a)({},u),{},{message:e.comment}),o),this.setState({edit:!1,comment:null,commentId:null}),this.formRef.current.setFieldsValue({comment:null})):a(l,n)}},{key:"renderCommentForm",value:function(){var e=this;return this.props.auth.isAuthenticated?Object(y.jsxs)(U.a,{onFinish:function(t){return e.onSubmitComment(t)},ref:this.formRef,children:[Object(y.jsx)(U.a.Item,{name:"comment",label:"Comment",rules:[{required:!0,message:Object(y.jsx)("p",{className:"br-error",children:" this field is required "})}],children:Object(y.jsx)(W.a.TextArea,{placeholder:"leave your comments ",autoComplete:""+Math.random()})}),Object(y.jsx)("div",{className:"bottom-button",children:Object(y.jsx)(X.a,{htmlType:"submit",className:"btn btn-primary",children:"save"})})]}):Object(y.jsxs)("div",{children:[Object(y.jsx)("b",{children:"comments"}),Object(y.jsx)("div",{children:Object(y.jsx)("p",{children:"please login to leave your comments "})})]})}},{key:"deleteComment",value:function(e,t,s){var n=this.props,a=n.deleteComment,r=n.fetchPost;a(e,t,s,(function(){r(e)}))}},{key:"renderComments",value:function(){var e=this,t=this.props.post,s=t.comments,n=t.id,a=this.props.auth;return s&&Object.keys(s).map((function(e){return[s[e],e]})).map((function(t,s){return Object(y.jsx)($,{comment:t[0],auth:a,commentid:s,postid:n,editComment:function(){return e.setStateEdit(!0,n,t[0],t[1])},deleteComment:function(){return e.deleteComment(n,t[0],t[1])}},s)}))}},{key:"renderButtons",value:function(e){if(this.props.auth.uid===e.uid)return Object(y.jsx)("div",{className:"form-buttons text-right",children:Object(y.jsxs)(m.b,{to:"/posts/edit/".concat(e.id),className:"btn btn-primary",children:[Object(y.jsx)("i",{className:"fa fa-edit"}),"edit post"]})})}},{key:"render",value:function(){var e=this.props.post;return e.isFetched?Object(y.jsxs)("div",{className:"br-post-view",children:[Object(y.jsxs)("div",{className:"br-post-view__post-view-post",children:[this.renderButtons(e),Object(y.jsx)(H,{post:e})]}),Object(y.jsxs)("div",{className:"br-post-view__post-view-comment",children:[this.renderCommentForm(),Object(y.jsx)("div",{className:"br-post-view__comments",children:this.renderComments()})]})]}):Object(y.jsx)(Y,{})}}]),s}(n.Component));var te=Object(i.b)((function(e){return{post:e.post,auth:e.auth}}),(function(e){return{fetchPost:function(t){return e(M(t))},deleteComment:function(t,s,n,a){return e(function(e,t,s,n){return function(a){a({type:S}),b.ref("comments/"+e).child(s).remove((function(){})).then((function(){"function"===typeof n&&n(),a({type:A}),b.ref("userComments/"+t.uid+"/"+e).child(s).remove()})).catch((function(e){a({type:I,payload:e.message})}))}}(t,s,n,a))},addComment:function(t,s){return e(function(e,t){var s=e,n=b.ref("comments/"+t),a=n.push().key;return s.createdAt=j.a.database.ServerValue.TIMESTAMP,function(r){n.child(a).set(s).then((function(){r({type:F,payload:e,id:a})})),b.ref("userComments/"+e.uid+"/"+t).update(Object(k.a)({},a,!0))}}(t,s))},editComment:function(t,s,n){return e(function(e,t,s){return function(n){b.ref("comments/".concat(e,"/")+s).update(t).then((function(){n(M(e))}))}}(t,s,n))}}}))(ee),se=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(u.a)(s,[{key:"componentWillMount",value:function(){var e=this.props.match.params.id;this.props.fetchPost(e)}},{key:"onDeletePost",value:function(e){var t=this.props,s=t.deletePost,n=t.history;s(e,(function(){G("The post has been successfully deleted","success"),n.replace("/")}))}},{key:"onSubmit",value:function(e){var t=this.props.post.id,s=this.props,n=s.history,a=s.editPost,r=s.post;a(t,Object(K.a)(Object(K.a)({},r),e)),G("The post has been successfully saved","success"),n.goBack()}},{key:"renderButtons",value:function(e){var t=this;if(this.props.auth.uid===e.uid)return Object(y.jsxs)("div",{className:"top-buttons text-right",children:[Object(y.jsxs)(m.b,{to:"/posts/".concat(e.id),className:"btn btn-primary",children:[Object(y.jsx)("i",{className:"fa fa-ban"})," cancel"]}),Object(y.jsxs)("button",{className:"btn btn-danger",onClick:function(){return t.onDeletePost(e.id)},children:[Object(y.jsx)("i",{className:"fa fa-remove"})," delete"]})]})}},{key:"render",value:function(){var e=this,t=this.props.post;return t.isFetched?Object(y.jsxs)("div",{className:"post-form",children:[this.renderButtons(t),Object(y.jsx)(z,{values:t,onSubmit:function(t){return e.onSubmit(t)},formType:"edit"})]}):Object(y.jsx)(Y,{})}}]),s}(n.Component);var ne=Object(i.b)((function(e){return{post:e.post,auth:e.auth,initialValues:e.post}}),(function(e){return{fetchPost:function(t){return e(M(t))},deletePost:function(t,s){return e(T(t,s))},editPost:function(t,s){return e(function(e,t){return function(){return b.ref("posts/"+e).update(t)}}(t,s))}}}))(se),ae=function(e){return{validator:function(t,s){return function(e,t){return!e||/^\S+@\S+\.\S+$/.test(e)?Promise.resolve():Promise.reject(t)}(s,e)}}},re=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(u.a)(s,[{key:"onSubmit",value:function(e){var t=this.props,s=t.register,n=t.history;s(e.email,e.password,{displayName:e.username},(function(){n.goBack(),G("You have register in successfully.","success")}),(function(e){G(e)}))}},{key:"render",value:function(){var e=this;return Object(y.jsx)("div",{className:"user-form",children:Object(y.jsxs)(U.a,{name:"register-form",onFinish:function(t){return e.onSubmit(t)},children:[Object(y.jsx)(U.a.Item,{name:"username",label:"username",rules:[{required:!0,message:Object(y.jsx)("p",{className:"br-error",children:" this field is required "})}],children:Object(y.jsx)(W.a,{autoComplete:""+Math.random()})}),Object(y.jsx)(U.a.Item,{name:"email",label:"Email",rules:[{required:!0,message:Object(y.jsx)("p",{className:"br-error",children:" this field is required "})},ae("this wrong email ")],children:Object(y.jsx)(W.a,{})}),Object(y.jsx)(U.a.Item,{name:"password",label:"Password",rules:[{required:!0,message:Object(y.jsx)("p",{className:"br-error",children:" this field is required "})}],children:Object(y.jsx)(W.a.Password,{})}),Object(y.jsx)(U.a.Item,{name:"confirmPassword",label:"confirm password",dependencies:["password"],rules:[{required:!0},function(e){var t=e.getFieldValue;return{validator:function(e,s){return s&&t("password")!==s?Promise.reject("password not match"):Promise.resolve()}}}],children:Object(y.jsx)(W.a.Password,{className:"br-signup__password"})}),Object(y.jsx)(X.a,{type:"secondary",className:"createButton full-width",htmlType:"submit",children:"register"})]})})}}]),s}(n.Component);var ce=Object(i.b)((function(e){return{auth:e.auth}}),{register:function(e,t,s,n,a){return function(r){r({type:"create_user_request"}),j.a.auth().createUserWithEmailAndPassword(e,t).then((function(e){r(function(e,t,s,n){var a=j.a.auth().currentUser;return function(r){r({type:h,payload:e}),a.updateProfile(s).then((function(){r({type:x,payload:s}),n()})),j.a.database().ref("users/"+e.user.uid).set({displayName:s.displayName,email:e.user.email,password:t})}}(e,t,s,n))})).catch((function(e){a(e.message),r({type:"create_user_fail",payload:e})}))}}})(re),ie=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(u.a)(s,[{key:"onSubmit",value:function(e){var t=this;(0,this.props.login)(e.email,e.password,(function(){t.props.history.push("/"),G("You have signed in successfully.","success")}),(function(e){G(e)}))}},{key:"render",value:function(){var e=this;return Object(y.jsx)("div",{className:"user-form",children:Object(y.jsxs)(U.a,{name:"login-form",className:"login-form",onFinish:function(t){return e.onSubmit(t)},children:[Object(y.jsx)(U.a.Item,{name:"email",label:"Email",rules:[{required:!0,message:Object(y.jsx)("p",{className:"br-error",children:" this field is required "})},ae("this wrong email ")],children:Object(y.jsx)(W.a,{})}),Object(y.jsx)(U.a.Item,{name:"password",label:"Password",rules:[{required:!0,message:Object(y.jsx)("p",{className:"br-error",children:" this field is required "})}],children:Object(y.jsx)(W.a.Password,{})}),Object(y.jsx)(X.a,{type:"secondary",className:"createButton full-width",htmlType:"submit",children:"login"})]})})}}]),s}(n.Component);var oe=Object(i.b)((function(e){return{auth:e.auth}}),{login:function(e,t,s,n){return function(a){a({type:"login_user_request"}),j.a.auth().signInWithEmailAndPassword(e,t).then((function(e){s(),a({type:f,payload:e})})).catch((function(e){n(e.message),a({type:"login_user_fail",payload:e})}))}}})(ie),ue=s(145),le=["component","redirectCheck","authProps"],de="redirect_if_guest",me="redirect_if_authenticated",pe=function(e){var t=e.component,s=e.redirectCheck,n=e.authProps,a=Object(ue.a)(e,le);return s===me?Object(y.jsx)(p.b,Object(K.a)(Object(K.a)({},a),{},{render:function(e){return"false"===localStorage.getItem("isAuthenticated")||localStorage.getItem("isAuthenticated")!==n.auth.isAuthenticated.toString()?Object(y.jsx)(t,Object(K.a)({},e)):Object(y.jsx)(p.a,{to:{pathname:"/",state:{from:e.location}}})}})):s===de&&"true"===localStorage.getItem("isAuthenticated")?Object(y.jsx)(p.b,Object(K.a)(Object(K.a)({},a),{},{render:function(e){return"true"===localStorage.getItem("isAuthenticated")&&localStorage.getItem("isAuthenticated")===n.auth.isAuthenticated.toString()&&Object(y.jsx)(t,Object(K.a)({},e))}})):s===de&&"false"===localStorage.getItem("isAuthenticated")?Object(y.jsx)(p.a,{to:{pathname:"/users/login"}}):void 0},je=(s(239),function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(u.a)(s,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return Object(y.jsx)(m.a,{children:Object(y.jsxs)("div",{className:"wrapper",children:[Object(y.jsx)(_,{}),Object(y.jsx)("div",{className:"container",children:Object(y.jsxs)(p.d,{children:[Object(y.jsx)(pe,{path:"/users/register",component:ce,redirectCheck:me,authProps:this.props}),Object(y.jsx)(pe,{path:"/users/login",component:oe,redirectCheck:me,authProps:this.props}),Object(y.jsx)(pe,{path:"/posts/create",component:Z,authProps:this.props,redirectCheck:de}),Object(y.jsx)(pe,{path:"/posts/edit/:id",component:ne,authProps:this.props,redirectCheck:de}),Object(y.jsx)(p.b,{path:"/posts/:id",authProps:this.props,component:te}),Object(y.jsx)(p.b,{path:"/posts",authProps:this.props,component:J}),Object(y.jsx)(p.b,{path:"/",authProps:this.props,component:J})]})})]})})}}]),s}(a.a.Component));var be=Object(i.b)((function(e){return{auth:e.auth}}))(je),he=s(62),fe=s(136),Oe=s(137),ve=s.n(Oe),xe=s(77),ge=s.n(xe),ye={list:[],isFetched:!1};var Ne={title:"",content:"",id:null,uid:null,user:null,createdAt:null,isFetched:!1};var _e={isAuthenticated:!1,error:null,user:"guest",uid:null};var ke=Object(he.c)({posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return void 0===window.localStorage.isAuthenticated&&localStorage.setItem("isAuthenticated",!1),Object.assign({},e,{list:ge.a.orderBy(t.payload,"createdAt","desc"),isFetched:!0});case q:var s=ge.a.drop(ge.a.orderBy(t.payload,"createdAt","desc"));return Object.assign({},e,{list:ge.a.concat(e.list,s),isFetched:!0});default:return e}},post:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return Object.assign({},{isFetched:!1});case P:return Object.assign({},e,Object(K.a)(Object(K.a)({},t.post),{},{id:t.id,user:t.user,comments:t.comments,isFetched:!0}));case F:return Object.assign({},e,{comments:Object(K.a)(Object(K.a)({},e.comments),{},Object(k.a)({},t.id,t.payload))});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object.assign({},e,{isAuthenticated:!0,error:null,uid:t.payload.uid});case x:return Object.assign({},e,{user:t.payload.displayName});case f:return localStorage.setItem("isAuthenticated",!0),Object.assign({},e,{isAuthenticated:!0,error:null,user:t.payload.displayName,uid:t.payload.uid});case O:return localStorage.setItem("isAuthenticated",!1),Object.assign({},_e);case v:return Object.assign({},e,{user:t.payload.displayName});default:return e}}});var Ce=function(){var e=Object(he.d)(ke,Object(he.a)(ve.a,fe.a));return e.dispatch((function(e){j.a.auth().onAuthStateChanged((function(t){e(t?{type:f,payload:t}:g())}))})),e}();c.a.render(Object(y.jsx)(i.a,{store:Ce,children:Object(y.jsx)(be,{})}),document.getElementById("root"))}},[[245,1,2]]]);
//# sourceMappingURL=main.d7b70e3f.chunk.js.map